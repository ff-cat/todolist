(this["webpackJsonptodolist-13"]=this["webpackJsonptodolist-13"]||[]).push([[0],{109:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(10),o=a.n(i);a(78),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(79);var r,s=a(18),l=a(151),d=a(141),u=a(142),O=a(4),j=c.a.memo((function(t){var e=Object(n.useState)(""),a=Object(s.a)(e,2),c=a[0],i=a[1],o=Object(n.useState)(null),r=Object(s.a)(o,2),j=r[0],b=r[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(l.a,{variant:"outlined",size:"small",label:"Title",value:c,error:!!j,helperText:j,onChange:function(t){i(t.currentTarget.value)},onKeyPress:function(e){null!==j&&b(null),13===e.charCode&&(""!==c.trim()?(t.addItem(c),i("")):b("Title is required"))}}),Object(O.jsx)(d.a,{color:"primary",onClick:function(){},children:Object(O.jsx)(u.a,{})})]})})),b=a(146),f=a(147),p=a(144),T=a(149),h=a(150),I=a(145),S=a(148),m=a(17),v=a(110),x=c.a.memo((function(t){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),c=a[0],i=a[1],o=Object(n.useState)(""),r=Object(s.a)(o,2),d=r[0],u=r[1];return c?Object(O.jsx)(l.a,{size:"small",value:d,onChange:function(t){u(t.currentTarget.value)},onBlur:function(){i(!1),d!==t.title&&t.onChange(d)},autoFocus:!0,onKeyPress:function(e){13===e.charCode&&(i(!1),t.onChange(d))}}):Object(O.jsx)("span",{onDoubleClick:function(){i(!0),u(t.title)},children:t.title})})),y=a(143),E=a(152),_=c.a.memo((function(t){Object(m.b)();return Object(O.jsxs)("div",{className:t.status?"is-done":"",children:[Object(O.jsx)(E.a,{color:"primary",checked:Boolean(t.status),onChange:function(){}}),Object(O.jsx)(x,{title:t.title,onChange:function(){}}),Object(O.jsx)(d.a,{onClick:function(){},children:Object(O.jsx)(y.a,{})})]},t.taskId)})),A=c.a.memo((function(t){var e=Object(m.c)((function(t){return t.tasks})),a=e[t.todolistId];return"active"===t.filter&&(a=e[t.todolistId].filter((function(t){return!Boolean(t.status)}))),"completed"===t.filter&&(a=e[t.todolistId].filter((function(t){return Boolean(t.status)}))),Object(O.jsx)("div",{children:a.map((function(e){return Object(O.jsx)(_,{todolistId:t.todolistId,taskId:e.id,title:e.title,status:e.status},e.id)}))})})),D=a(23),k=a(14),L=a.n(k);!function(t){t.SET_APP_STATUS="SET_APP_STATUS",t.REMOVE_TASK="REMOVE_TASK",t.ADD_TASK="ADD_TASK",t.UPDATE_TASK="UPDATE_TASK",t.SET_TASKS="SET_TASKS",t.REMOVE_TODOLIST="REMOVE_TODOLIST",t.ADD_TODOLIST="ADD_TODOLIST",t.CHANGE_TODOLIST_TITLE="CHANGE_TODOLIST_TITLE",t.CHANGE_TODOLIST_FILTER="CHANGE_TODOLIST_FILTER",t.SET_TODOLISTS="SET_TODOLISTS"}(r||(r={}));var g=a(42),C=a.n(g),w=C.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"f272445b-402b-4b0f-ba99-09cb5a98a4e4"}}),K=function(){return w.get("todo-lists")},P=function(t){return w.post("todo-lists",{title:t})},N=function(t){return{type:r.SET_APP_STATUS,payload:{status:t}}},R=function(t,e){return{type:r.ADD_TODOLIST,payload:{todolistId:t,title:e}}},U=function(t,e){return{type:r.CHANGE_TODOLIST_FILTER,payload:{todolistId:t,filter:e}}},G=a(9),H=C.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"f272445b-402b-4b0f-ba99-09cb5a98a4e4"}}),M=function(t){return H.get("todo-lists/".concat(t,"/tasks"))},V=function(t,e){return{type:r.SET_TASKS,payload:{todolistId:t,tasks:e}}},B=c.a.memo((function(t){var e=Object(m.b)();return Object(n.useEffect)((function(){var a;e((a=t.todolistId,function(){var t=Object(D.a)(L.a.mark((function t(e){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(N("loading")),t.next=3,M(a);case 3:200===(n=t.sent).status&&e(V(a,n.data.items)),e(N("succeeded"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("h3",{children:[Object(O.jsx)(x,{title:t.title,onChange:function(){}}),Object(O.jsx)(d.a,{onClick:function(){},children:Object(O.jsx)(y.a,{})})]})}),Object(O.jsx)("div",{children:Object(O.jsx)(j,{addItem:function(){}})}),Object(O.jsx)("div",{children:Object(O.jsx)(A,{todolistId:t.todolistId,filter:t.filter})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(p.a,{onClick:Object(n.useCallback)((function(){e(U(t.todolistId,"all"))}),[e,t.todolistId]),className:"all"===t.filter?"active-filter":"",variant:"all"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"All"}),Object(O.jsx)(p.a,{onClick:Object(n.useCallback)((function(){e(U(t.todolistId,"active"))}),[e,t.todolistId]),className:"active"===t.filter?"active-filter":"",variant:"active"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"Active"}),Object(O.jsx)(p.a,{onClick:Object(n.useCallback)((function(){e(U(t.todolistId,"completed"))}),[e,t.todolistId]),className:"completed"===t.filter?"active-filter":"",variant:"completed"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"Completed"})]})]})})})),z=c.a.memo((function(){var t=Object(m.c)((function(t){return t.todolists}));return Object(O.jsx)(I.a,{container:!0,spacing:3,children:t.map((function(t){return Object(O.jsx)(I.a,{item:!0,children:Object(O.jsx)(v.a,{style:{padding:"10px"},children:Object(O.jsx)(B,{todolistId:t.id,title:t.title,filter:t.filter},t.id)})},t.id)}))})})),F=m.c,J=(m.b,function(){var t=F((function(t){return t.app})).status,e=Object(m.b)();return Object(n.useEffect)((function(){e(function(){var t=Object(D.a)(L.a.mark((function t(e){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(N("loading")),t.next=3,K();case 3:200===(a=t.sent).status&&e((n=a.data,{type:r.SET_TODOLISTS,payload:{todolists:n}})),e(N("succeeded"));case 6:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(b.a,{position:"static",children:Object(O.jsxs)(f.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)(d.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(O.jsx)(S.a,{})}),Object(O.jsx)(p.a,{color:"inherit",children:"Login"})]})}),"loading"===t&&Object(O.jsx)(T.a,{}),Object(O.jsxs)(h.a,{fixed:!0,children:[Object(O.jsx)(I.a,{container:!0,style:{padding:"20px"},children:Object(O.jsx)(j,{addItem:Object(n.useCallback)((function(t){e(function(t){return function(){var e=Object(D.a)(L.a.mark((function e(a){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(N("loading")),e.next=3,P(t);case 3:200===(n=e.sent).status&&a(R(n.data.data.item.id,t)),a(N("succeeded"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[e])})}),Object(O.jsx)(z,{})]})]})}),W=a(20),Y=a(11),q={},$=[],Q=a(44),X=a(65),Z={status:"idle"},tt=Object(Q.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.SET_TASKS:return Object(G.a)(Object(G.a)({},t),{},Object(Y.a)({},e.payload.todolistId,e.payload.tasks.map((function(t){return Object(G.a)({},t)}))));case r.REMOVE_TASK:return Object(G.a)(Object(G.a)({},t),{},Object(Y.a)({},e.payload.todolistId,t[e.payload.todolistId].filter((function(t){return t.id!==e.payload.taskId}))));case r.ADD_TASK:return Object(G.a)(Object(G.a)({},t),{},Object(Y.a)({},e.payload.task.todoListId,[Object(G.a)({},e.payload.task)].concat(Object(W.a)(t[e.payload.task.todoListId]))));case r.UPDATE_TASK:return Object(G.a)(Object(G.a)({},t),{},Object(Y.a)({},e.payload.todolistId,t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(G.a)(Object(G.a)({},t),e.payload.model):t}))));case r.ADD_TODOLIST:return Object(G.a)(Object(Y.a)({},e.payload.todolistId,[]),t);case r.REMOVE_TODOLIST:return delete t[e.payload.todolistId],Object(G.a)({},t);case r.SET_TODOLISTS:var a=Object(G.a)({},t);return e.payload.todolists.forEach((function(t){a[t.id]=[]})),a;default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.REMOVE_TODOLIST:return t.filter((function(t){return t.id!==e.payload.todolistId}));case r.ADD_TODOLIST:return[{addedDate:"",order:0,id:e.payload.todolistId,title:e.payload.title,filter:"all"}].concat(Object(W.a)(t));case r.CHANGE_TODOLIST_TITLE:return t.map((function(t){return t.id===e.payload.todolistId?Object(G.a)(Object(G.a)({},t),{},{title:e.payload.title}):t}));case r.CHANGE_TODOLIST_FILTER:return t.map((function(t){return t.id===e.payload.todolistId?Object(G.a)(Object(G.a)({},t),{},{filter:e.payload.filter}):t}));case r.SET_TODOLISTS:return e.payload.todolists.map((function(t){return{addedDate:"",order:0,id:t.id,title:t.title,filter:"all"}}));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;return e.type===r.SET_APP_STATUS?Object(G.a)(Object(G.a)({},t),{},{status:e.payload.status}):t}}),et=Object(Q.c)(tt,Object(Q.a)(X.a));window.store=et,o.a.render(Object(O.jsx)(m.a,{store:et,children:Object(O.jsx)(J,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},78:function(t,e,a){},79:function(t,e,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.f0b6365d.chunk.js.map