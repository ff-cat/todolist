(this["webpackJsonptodolist-13"]=this["webpackJsonptodolist-13"]||[]).push([[0],{109:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),o=a(10),r=a.n(o);a(78),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(79);var i,s=a(18),d=a(151),l=a(141),u=a(142),O=a(4),j=c.a.memo((function(t){var e=Object(n.useState)(""),a=Object(s.a)(e,2),c=a[0],o=a[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),j=i[0],f=i[1],p=function(){""!==c.trim()?(t.addItem(c),o("")):f("Title is required")};return Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{variant:"outlined",size:"small",label:"Title",value:c,error:!!j,helperText:j,onChange:function(t){o(t.currentTarget.value)},onKeyPress:function(t){null!==j&&f(null),13===t.charCode&&p()}}),Object(O.jsx)(l.a,{color:"primary",onClick:p,children:Object(O.jsx)(u.a,{})})]})})),f=a(146),p=a(147),b=a(144),T=a(149),I=a(150),h=a(145),v=a(148),S=a(17),m=a(110),y=c.a.memo((function(t){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),l=i[0],u=i[1];return c?Object(O.jsx)(d.a,{size:"small",value:l,onChange:function(t){u(t.currentTarget.value)},onBlur:function(){o(!1),l!==t.title&&t.onChange(l)},autoFocus:!0,onKeyPress:function(e){13===e.charCode&&(o(!1),t.onChange(l))}}):Object(O.jsx)("span",{onDoubleClick:function(){o(!0),u(t.title)},children:t.title})})),x=a(143),k=a(152),E=a(9),_=a(23),A=a(14),D=a.n(A);!function(t){t.SET_APP_STATUS="SET_APP_STATUS",t.REMOVE_TASK="REMOVE_TASK",t.ADD_TASK="ADD_TASK",t.UPDATE_TASK="UPDATE_TASK",t.SET_TASKS="SET_TASKS",t.REMOVE_TODOLIST="REMOVE_TODOLIST",t.ADD_TODOLIST="ADD_TODOLIST",t.CHANGE_TODOLIST_TITLE="CHANGE_TODOLIST_TITLE",t.CHANGE_TODOLIST_FILTER="CHANGE_TODOLIST_FILTER",t.SET_TODOLISTS="SET_TODOLISTS"}(i||(i={}));var C=a(42),g=a.n(C),L=g.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"f582c58f-0778-4c75-866b-da832054adf0"}}),w=function(t){return L.get("todo-lists/".concat(t,"/tasks"))},K=function(t,e){return L.delete("todo-lists/".concat(t,"/tasks/").concat(e))},P=function(t,e){return L.post("todo-lists/".concat(t,"/tasks"),{title:e})},N=function(t,e,a){return L.put("todo-lists/".concat(t,"/tasks/").concat(e),a)},R=function(t){return{type:i.SET_APP_STATUS,payload:{status:t}}},U=function(t,e){return{type:i.REMOVE_TASK,payload:{todolistId:t,taskId:e}}},M=function(t,e,a){return{type:i.UPDATE_TASK,payload:{todolistId:t,taskId:e,model:a}}},V=function(t,e){return{type:i.SET_TASKS,payload:{todolistId:t,tasks:e}}},G=function(t,e,a){return function(){var n=Object(_.a)(D.a.mark((function n(c,o){var r,i;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c(R("loading")),r=o().tasks[t].find((function(t){return t.id===e}))){n.next=4;break}return n.abrupt("return");case 4:return i=Object(E.a)({title:r.title,description:r.description,status:r.status,priority:r.priority,startDate:r.startDate,deadline:r.deadline},a),n.next=7,N(t,e,i);case 7:200===n.sent.status&&c(M(t,e,i)),c(R("succeeded"));case 10:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},H=c.a.memo((function(t){var e=Object(S.b)();return Object(O.jsxs)("div",{className:t.status?"is-done":"",children:[Object(O.jsx)(k.a,{color:"primary",checked:Boolean(t.status),onChange:Object(n.useCallback)((function(){e(G(t.todolistId,t.taskId,{status:Number(!Boolean(t.status))}))}),[e,t.todolistId,t.taskId,t.status])}),Object(O.jsx)(y,{title:t.title,onChange:Object(n.useCallback)((function(a){e(G(t.todolistId,t.taskId,{title:a}))}),[e,t.todolistId,t.taskId])}),Object(O.jsx)(l.a,{onClick:Object(n.useCallback)((function(){var a,n;e((a=t.todolistId,n=t.taskId,function(){var t=Object(_.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(R("loading")),t.next=3,K(a,n);case 3:200===t.sent.status&&e(U(a,n)),e(R("succeeded"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[e,t.todolistId,t.taskId]),children:Object(O.jsx)(x.a,{})})]},t.taskId)})),B=c.a.memo((function(t){var e=Object(S.c)((function(t){return t.tasks})),a=e[t.todolistId];return"active"===t.filter&&(a=e[t.todolistId].filter((function(t){return!Boolean(t.status)}))),"completed"===t.filter&&(a=e[t.todolistId].filter((function(t){return Boolean(t.status)}))),Object(O.jsx)("div",{children:a.map((function(e){return Object(O.jsx)(H,{todolistId:t.todolistId,taskId:e.id,title:e.title,status:e.status},e.id)}))})})),z=g.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"f582c58f-0778-4c75-866b-da832054adf0"}}),F=function(){return z.get("todo-lists")},J=function(t){return z.post("todo-lists",{title:t})},W=function(t,e){return z.put("todo-lists/".concat(t),{title:e})},Y=function(t){return z.delete("todo-lists/".concat(t))},q=function(t){return{type:i.REMOVE_TODOLIST,payload:{todolistId:t}}},$=function(t,e){return{type:i.ADD_TODOLIST,payload:{todolistId:t,title:e}}},Q=function(t,e){return{type:i.CHANGE_TODOLIST_TITLE,payload:{todolistId:t,title:e}}},X=function(t,e){return{type:i.CHANGE_TODOLIST_FILTER,payload:{todolistId:t,filter:e}}},Z=c.a.memo((function(t){var e=Object(S.b)();return Object(n.useEffect)((function(){var a;e((a=t.todolistId,function(){var t=Object(_.a)(D.a.mark((function t(e){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(R("loading")),t.next=3,w(a);case 3:200===(n=t.sent).status&&e(V(a,n.data.items)),e(R("succeeded"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("h3",{children:[Object(O.jsx)(y,{title:t.title,onChange:Object(n.useCallback)((function(a){e(function(t,e){return function(){var a=Object(_.a)(D.a.mark((function a(n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(R("loading")),a.next=3,W(t,e);case 3:200===a.sent.status&&n(Q(t,e)),n(R("succeeded"));case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(t.todolistId,a))}),[e,t.todolistId])}),Object(O.jsx)(l.a,{onClick:Object(n.useCallback)((function(){var a;e((a=t.todolistId,function(){var t=Object(_.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(R("loading")),t.next=3,Y(a);case 3:200===t.sent.status&&e(q(a)),e(R("succeeded"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[e,t.todolistId]),children:Object(O.jsx)(x.a,{})})]})}),Object(O.jsx)("div",{children:Object(O.jsx)(j,{addItem:Object(n.useCallback)((function(a){e(function(t,e){return function(){var a=Object(_.a)(D.a.mark((function a(n){var c;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(R("loading")),a.next=3,P(t,e);case 3:200===(c=a.sent).status&&n((o=c.data.data.item,{type:i.ADD_TASK,payload:{task:o}})),n(R("succeeded"));case 6:case"end":return a.stop()}var o}),a)})));return function(t){return a.apply(this,arguments)}}()}(t.todolistId,a))}),[e,t.todolistId])})}),Object(O.jsx)("div",{children:Object(O.jsx)(B,{todolistId:t.todolistId,filter:t.filter})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(b.a,{onClick:Object(n.useCallback)((function(){e(X(t.todolistId,"all"))}),[e,t.todolistId]),className:"all"===t.filter?"active-filter":"",variant:"all"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"All"}),Object(O.jsx)(b.a,{onClick:Object(n.useCallback)((function(){e(X(t.todolistId,"active"))}),[e,t.todolistId]),className:"active"===t.filter?"active-filter":"",variant:"active"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"Active"}),Object(O.jsx)(b.a,{onClick:Object(n.useCallback)((function(){e(X(t.todolistId,"completed"))}),[e,t.todolistId]),className:"completed"===t.filter?"active-filter":"",variant:"completed"===t.filter?"contained":"outlined",size:"small",color:"primary",children:"Completed"})]})]})})})),tt=c.a.memo((function(){var t=Object(S.c)((function(t){return t.todolists}));return Object(O.jsx)(h.a,{container:!0,spacing:3,children:t.map((function(t){return Object(O.jsx)(h.a,{item:!0,children:Object(O.jsx)(m.a,{style:{padding:"10px"},children:Object(O.jsx)(Z,{todolistId:t.id,title:t.title,filter:t.filter},t.id)})},t.id)}))})})),et=S.c,at=(S.b,function(){var t=et((function(t){return t.app})).status,e=Object(S.b)();return Object(n.useEffect)((function(){e(function(){var t=Object(_.a)(D.a.mark((function t(e){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(R("loading")),t.next=3,F();case 3:200===(a=t.sent).status&&e((n=a.data,{type:i.SET_TODOLISTS,payload:{todolists:n}})),e(R("succeeded"));case 6:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(f.a,{position:"static",children:Object(O.jsxs)(p.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)(l.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(O.jsx)(v.a,{})}),Object(O.jsx)(b.a,{color:"inherit",children:"Login"})]})}),"loading"===t&&Object(O.jsx)(T.a,{}),Object(O.jsxs)(I.a,{fixed:!0,children:[Object(O.jsx)(h.a,{container:!0,style:{padding:"20px"},children:Object(O.jsx)(j,{addItem:Object(n.useCallback)((function(t){e(function(t){return function(){var e=Object(_.a)(D.a.mark((function e(a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(R("loading")),e.next=3,J(t);case 3:200===(n=e.sent).status&&a($(n.data.data.item.id,t)),a(R("succeeded"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[e])})}),Object(O.jsx)(tt,{})]})]})}),nt=a(20),ct=a(11),ot={},rt=[],it=a(44),st=a(65),dt={status:"idle"},lt=Object(it.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.SET_TASKS:return Object(E.a)(Object(E.a)({},t),{},Object(ct.a)({},e.payload.todolistId,e.payload.tasks.map((function(t){return Object(E.a)({},t)}))));case i.REMOVE_TASK:return Object(E.a)(Object(E.a)({},t),{},Object(ct.a)({},e.payload.todolistId,t[e.payload.todolistId].filter((function(t){return t.id!==e.payload.taskId}))));case i.ADD_TASK:return Object(E.a)(Object(E.a)({},t),{},Object(ct.a)({},e.payload.task.todoListId,[Object(E.a)({},e.payload.task)].concat(Object(nt.a)(t[e.payload.task.todoListId]))));case i.UPDATE_TASK:return Object(E.a)(Object(E.a)({},t),{},Object(ct.a)({},e.payload.todolistId,t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(E.a)(Object(E.a)({},t),e.payload.model):t}))));case i.ADD_TODOLIST:return Object(E.a)(Object(ct.a)({},e.payload.todolistId,[]),t);case i.REMOVE_TODOLIST:return delete t[e.payload.todolistId],Object(E.a)({},t);case i.SET_TODOLISTS:var a=Object(E.a)({},t);return e.payload.todolists.forEach((function(t){a[t.id]=[]})),a;default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.REMOVE_TODOLIST:return t.filter((function(t){return t.id!==e.payload.todolistId}));case i.ADD_TODOLIST:return[{addedDate:"",order:0,id:e.payload.todolistId,title:e.payload.title,filter:"all"}].concat(Object(nt.a)(t));case i.CHANGE_TODOLIST_TITLE:return t.map((function(t){return t.id===e.payload.todolistId?Object(E.a)(Object(E.a)({},t),{},{title:e.payload.title}):t}));case i.CHANGE_TODOLIST_FILTER:return t.map((function(t){return t.id===e.payload.todolistId?Object(E.a)(Object(E.a)({},t),{},{filter:e.payload.filter}):t}));case i.SET_TODOLISTS:return e.payload.todolists.map((function(t){return{addedDate:"",order:0,id:t.id,title:t.title,filter:"all"}}));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,e=arguments.length>1?arguments[1]:void 0;return e.type===i.SET_APP_STATUS?Object(E.a)(Object(E.a)({},t),{},{status:e.payload.status}):t}}),ut=Object(it.c)(lt,Object(it.a)(st.a));window.store=ut,r.a.render(Object(O.jsx)(S.a,{store:ut,children:Object(O.jsx)(at,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},78:function(t,e,a){},79:function(t,e,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.5f73dc15.chunk.js.map